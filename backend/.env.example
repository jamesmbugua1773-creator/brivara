# ============================================
# BRIVARA CAPITAL - ENVIRONMENT CONFIGURATION
# ============================================

# Database connection (required)
# Preferred Supabase setup:
# - DATABASE_URL: pooler (runtime)
# - DIRECT_URL: direct/session (migrations)
# IMPORTANT: Always require SSL with Supabase.
# NOTE: If your password contains special characters (e.g. #, @, :), URL-encode it.
#
# Supabase runtime (Transaction pooler)
# DATABASE_URL="postgresql://postgres.<PROJECT_REF>:<URL_ENCODED_PASSWORD>@aws-1-<REGION>.pooler.supabase.com:6543/postgres?pgbouncer=true&sslmode=require"
# Supabase migrations (Session pooler or Direct)
# DIRECT_URL="postgresql://postgres.<PROJECT_REF>:<URL_ENCODED_PASSWORD>@aws-1-<REGION>.pooler.supabase.com:5432/postgres?sslmode=require"
# Local Postgres (Docker example; this repo uses host port 15432):
# DATABASE_URL="postgresql://brivara_user:devpassword@localhost:15432/brivara_db"
DATABASE_URL=
DIRECT_URL=

# ============================================
# SECURITY - CRITICAL CONFIGURATION
# ============================================

# JWT Secret - Use a strong, random string
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="replace-with-strong-secret"
JWT_EXPIRES_IN="7d"

# Transaction Authentication Secret - For deposit/withdrawal verification
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
TRANSACTION_AUTH_SECRET="your-transaction-auth-secret-here"

# ============================================
# BLOCKCHAIN WALLET ADDRESSES - CONFIDENTIAL
# ============================================
# IMPORTANT: These wallets should NEVER be exposed in frontend or public areas
# They are only used internally by the backend for transaction processing

# BEP20 (Binance Smart Chain) Wallet Address
# This is the wallet that receives deposits from users
WALLET_BEP20_ADDRESS="0xXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"

# TRC20 (TRON Network) Wallet Address
# This is the wallet that receives deposits from users
WALLET_TRC20_ADDRESS="TXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"

# Blockchain API keys
# Required to verify on-chain deposits
BSCSCAN_API_KEY=your_bscscan_api_key_here
#TRON_PRO_API_KEY=your_tron_api_key_if_applicable

# Deposit verification controls
DEPOSIT_VERIFICATION_ENABLED=true
DEPOSIT_VERIFICATION_INTERVAL_MS=30000
# For development only: auto-confirm deposits without on-chain verification
# Never enable in production
DEPOSIT_AUTO_CONFIRM=false

# ============================================
# WITHDRAWAL PROVIDER INTEGRATION
# ============================================
# Generic HTTP-based provider to initiate withdrawals automatically.
# The external platform should verify signature and perform on-chain transfer.
WITHDRAWAL_PROVIDER_URL=https://provider.example.com/withdraw
WITHDRAWAL_PROVIDER_SECRET=replace_with_strong_secret
WITHDRAWAL_PROCESS_ENABLED=true
WITHDRAWAL_PROCESS_INTERVAL_MS=30000
WITHDRAWAL_MIN_COMPLETE_MS=120000

# ============================================
# EMAIL CONFIGURATION
# ============================================
# Google Workspace SMTP Setup:
# 1. Enable 2FA: https://admin.google.com (Security â†’ 2-Step Verification)
# 2. Create App Password: https://myaccount.google.com/apppasswords
#    - Sign in with your workspace account
#    - Select "Mail" and "Other (Custom name)"
#    - Generate and copy the 16-character password
# 3. Use your workspace email below

SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER="your-email@yourdomain.com"
SMTP_PASS="your-16-char-app-password"
EMAIL_FROM="noreply@yourdomain.com"
WEBSITE_URL="http://localhost:3000"

# For development, use Ethereal Email (free SMTP for testing)
# ETHEREAL_USER="temporary-email@ethereal.email"
# ETHEREAL_PASS="temporary-password"

# ============================================
# TRANSACTION SETTINGS
# ============================================

# Deposit fee percentage (charged on top of deposit amount)
DEPOSIT_FEE_PERCENT="1.5"

# Withdrawal fee percentage
WITHDRAWAL_FEE_PERCENT="5"

# Minimum withdrawal amount (USD)
MIN_WITHDRAWAL="10"

# Withdrawal cooldown in hours (users can only withdraw once every X hours)
WITHDRAWAL_COOLDOWN_HOURS="24"

# ============================================
# API CONFIGURATION
# ============================================

# Crypto API (optional, for Tatum integration)
TATUM_API_KEY="your-tatum-api-key"

# Frontend URLs
NEXT_PUBLIC_API_BASE="http://localhost:4000/api"
FRONTEND_URL="http://localhost:3000"

# ============================================
# REDIS CONFIGURATION (Optional)
# ============================================

REDIS_URL="redis://localhost:6379"

# ============================================
# LOGGING & MONITORING
# ============================================

LOG_LEVEL="debug"
